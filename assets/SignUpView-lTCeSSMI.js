import{r as p,u as f,c as _,a as o,w as n,v as r,b as w,d as h,e as g,o as v,f as b}from"./index-B14GhnoA.js";const C={id:"signUpPage",class:"bg-yellow"},y={class:"conatiner signUpPage vhContainer"},k=o("div",{class:"side"},[o("a",{href:"#"},[o("img",{class:"logoImg",src:"https://raw.githubusercontent.com/hexschool/2022-web-layout-training/main/todolist/logo.png",alt:""})]),o("img",{class:"d-m-n",src:"https://raw.githubusercontent.com/hexschool/2022-web-layout-training/main/todolist/img.png",alt:"workImg"})],-1),x={class:"formControls"},P=o("h2",{class:"formControls_txt"},"註冊帳號",-1),V=o("label",{class:"formControls_label",for:"email"},"Email",-1),U=o("label",{class:"formControls_label",for:"name"},"您的暱稱",-1),q=o("label",{class:"formControls_label",for:"pwd"},"密碼",-1),N=o("span",null,"密碼長度至少六個字元",-1),S=o("label",{class:"formControls_label",for:"pwd"},"再次輸入密碼",-1),L={__name:"SignUpView",setup(T){const e=p({email:"",nickname:"",password:"",confirmPassword:""}),d="https://todolist-api.hexschool.io",c=f(),m=async()=>{const{email:i,nickname:s,password:a,confirmPassword:t}=e.value;if(!i||!s||!a||!t){alert("欄位皆為必填，請確實填寫!");return}if(a.length<6){alert("密碼長度至少六個字"),e.value.password="",e.value.confirmPassword="";return}if(a!==t){alert("密碼與確認密碼不一致"),e.value.password="",e.value.confirmPassword="";return}try{const l=await fetch(`${d}/users/sign_up`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e.value)});if(l.ok)alert("註冊成功"),c.push("/login");else{const u=await l.json();alert(u.message)}}catch(l){console.log("error"+l)}};return(i,s)=>{const a=g("RouterLink");return v(),_("div",C,[o("div",y,[k,o("div",null,[o("form",x,[P,V,n(o("input",{"onUpdate:modelValue":s[0]||(s[0]=t=>e.value.email=t),class:"formControls_input",type:"text",id:"email",name:"email",placeholder:"請輸入 email",required:""},null,512),[[r,e.value.email]]),U,n(o("input",{"onUpdate:modelValue":s[1]||(s[1]=t=>e.value.nickname=t),class:"formControls_input",type:"text",name:"name",id:"name",placeholder:"請輸入您的暱稱",required:""},null,512),[[r,e.value.nickname]]),q,n(o("input",{"onUpdate:modelValue":s[2]||(s[2]=t=>e.value.password=t),class:"formControls_input",type:"password",name:"pwd",id:"pwd",placeholder:"請輸入密碼",required:""},null,512),[[r,e.value.password]]),N,S,n(o("input",{"onUpdate:modelValue":s[3]||(s[3]=t=>e.value.confirmPassword=t),class:"formControls_input",type:"password",name:"confirm_pwd",id:"confirm_pwd",placeholder:"請再次輸入密碼",required:""},null,512),[[r,e.value.confirmPassword]]),o("input",{onClick:m,class:"formControls_btnSubmit",type:"button",value:"註冊帳號"}),w(a,{to:"/login",class:"formControls_btnLink"},{default:h(()=>[b("登入")]),_:1})])])])])}}};export{L as default};
