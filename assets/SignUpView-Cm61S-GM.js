import{r as m,u,c as p,a as o,w as a,v as l,b as _,d as f,e as h,o as w,f as g}from"./index-BIRwpJyb.js";const v={id:"signUpPage",class:"bg-yellow"},b={class:"conatiner signUpPage vhContainer"},C=o("div",{class:"side"},[o("a",{href:"#"},[o("img",{class:"logoImg",src:"https://raw.githubusercontent.com/hexschool/2022-web-layout-training/main/todolist/logo.png",alt:""})]),o("img",{class:"d-m-n",src:"https://raw.githubusercontent.com/hexschool/2022-web-layout-training/main/todolist/img.png",alt:"workImg"})],-1),k={class:"formControls"},y=o("h2",{class:"formControls_txt"},"註冊帳號",-1),x=o("label",{class:"formControls_label",for:"email"},"Email",-1),P=o("label",{class:"formControls_label",for:"name"},"您的暱稱",-1),V=o("label",{class:"formControls_label",for:"pwd"},"密碼",-1),U=o("span",null,"密碼長度至少六個字元",-1),q=o("label",{class:"formControls_label",for:"pwd"},"再次輸入密碼",-1),T={__name:"SignUpView",setup(N){const e=m({email:"",nickname:"",password:"",confirmPassword:""}),r="https://todolist-api.hexschool.io",i=u(),c=async()=>{if(e.value.password!==e.value.confirmPassword){alert("密碼與確認密碼不一致"),e.value.password="",e.value.confirmPassword="";return}try{const s=await fetch(`${r}/users/sign_up`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e.value)});if(s.ok)alert("註冊成功"),i.push("/login");else{const n=await s.json();alert(n.message)}}catch(s){console.log("error"+s)}};return(d,s)=>{const n=h("RouterLink");return w(),p("div",v,[o("div",b,[C,o("div",null,[o("form",k,[y,x,a(o("input",{"onUpdate:modelValue":s[0]||(s[0]=t=>e.value.email=t),class:"formControls_input",type:"text",id:"email",name:"email",placeholder:"請輸入 email",required:""},null,512),[[l,e.value.email]]),P,a(o("input",{"onUpdate:modelValue":s[1]||(s[1]=t=>e.value.nickname=t),class:"formControls_input",type:"text",name:"name",id:"name",placeholder:"請輸入您的暱稱",required:""},null,512),[[l,e.value.nickname]]),V,a(o("input",{"onUpdate:modelValue":s[2]||(s[2]=t=>e.value.password=t),class:"formControls_input",type:"password",name:"pwd",id:"pwd",placeholder:"請輸入密碼",required:""},null,512),[[l,e.value.password]]),U,q,a(o("input",{"onUpdate:modelValue":s[3]||(s[3]=t=>e.value.confirmPassword=t),class:"formControls_input",type:"password",name:"confirm_pwd",id:"confirm_pwd",placeholder:"請再次輸入密碼",required:""},null,512),[[l,e.value.confirmPassword]]),o("input",{onClick:c,class:"formControls_btnSubmit",type:"button",value:"註冊帳號"}),_(n,{to:"/login",class:"formControls_btnLink"},{default:f(()=>[g("登入")]),_:1})])])])])}}};export{T as default};
