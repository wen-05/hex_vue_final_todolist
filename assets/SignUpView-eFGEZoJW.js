import{r as u,u as _,c as w,a as e,w as n,v as r,b as h,d as g,e as v,f as b,o as C,g as y}from"./index-DRrt69UI.js";const k={id:"signUpPage",class:"bg-yellow"},x={class:"conatiner signUpPage vhContainer"},P=e("div",{class:"side"},[e("a",{href:"#"},[e("img",{class:"logoImg",src:"https://raw.githubusercontent.com/hexschool/2022-web-layout-training/main/todolist/logo.png",alt:""})]),e("img",{class:"d-m-n",src:"https://raw.githubusercontent.com/hexschool/2022-web-layout-training/main/todolist/img.png",alt:"workImg"})],-1),V={class:"formControls"},U=e("h2",{class:"formControls_txt"},"註冊帳號",-1),q=e("label",{class:"formControls_label",for:"email"},"Email",-1),N=e("label",{class:"formControls_label",for:"name"},"您的暱稱",-1),S=e("label",{class:"formControls_label",for:"pwd"},"密碼",-1),T=e("span",null,"密碼長度至少六個字元",-1),B=e("label",{class:"formControls_label",for:"pwd"},"再次輸入密碼",-1),L=["disabled"],D={__name:"SignUpView",setup(R){const o=u({email:"",nickname:"",password:"",confirmPassword:""});let i=u(!1);const c="https://todolist-api.hexschool.io",m=_(),p=async()=>{const{email:d,nickname:s,password:l,confirmPassword:t}=o.value;if(!d||!s||!l||!t){alert("欄位皆為必填，請確實填寫!");return}if(l.length<6){alert("密碼長度至少六個字"),o.value.password="",o.value.confirmPassword="";return}if(l!==t){alert("密碼與確認密碼不一致"),o.value.password="",o.value.confirmPassword="";return}i.value=!0;try{const a=await fetch(`${c}/users/sign_up`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(o.value)});if(a.ok)alert("註冊成功"),m.push("/login");else{const f=await a.json();alert(f.message)}}catch(a){console.log("error"+a)}finally{i.value=!1}};return(d,s)=>{const l=b("RouterLink");return C(),w("div",k,[e("div",x,[P,e("div",null,[e("form",V,[U,q,n(e("input",{"onUpdate:modelValue":s[0]||(s[0]=t=>o.value.email=t),class:"formControls_input",type:"text",id:"email",name:"email",placeholder:"請輸入 email",required:""},null,512),[[r,o.value.email]]),N,n(e("input",{"onUpdate:modelValue":s[1]||(s[1]=t=>o.value.nickname=t),class:"formControls_input",type:"text",name:"name",id:"name",placeholder:"請輸入您的暱稱",required:""},null,512),[[r,o.value.nickname]]),S,n(e("input",{"onUpdate:modelValue":s[2]||(s[2]=t=>o.value.password=t),class:"formControls_input",type:"password",name:"pwd",id:"pwd",placeholder:"請輸入密碼",required:""},null,512),[[r,o.value.password]]),T,B,n(e("input",{"onUpdate:modelValue":s[3]||(s[3]=t=>o.value.confirmPassword=t),class:"formControls_input",type:"password",name:"confirm_pwd",id:"confirm_pwd",placeholder:"請再次輸入密碼",required:""},null,512),[[r,o.value.confirmPassword]]),e("input",{onClick:p,class:"formControls_btnSubmit",type:"button",value:"註冊帳號",disabled:h(i)},null,8,L),g(l,{to:"/login",class:"formControls_btnLink"},{default:v(()=>[y("登入")]),_:1})])])])])}}};export{D as default};
